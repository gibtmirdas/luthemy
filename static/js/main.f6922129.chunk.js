(this.webpackJsonpluthemy=this.webpackJsonpluthemy||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),i=n(15),u=n.n(i),o=(n(59),n(13)),l=n(5),s=n(49),b=n(101),j=n(102),f=n(6),O=(n(60),n(50)),v=n(97),d={STOPPED:"STOPPED",DISPLAY:"DISPLAY",SOUND:"SOUND",NEXT:"NEXT"},p=Object(c.createContext)({isPlaying:!1,triggerPlaying:null,state:d.STOPPED,note:null,setNote:null}),h=n(9),m=n.n(h);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var S=c.createElement("path",{fill:"none",stroke:"#000",strokeWidth:.265,d:"M.122 65.515C8.064 46.234 20.317 24.883 58.6 3.122 65.353-.432 70.35-.38 72.775 1.042c2.507 2.22 1.67 5.785.24 6.014-32.98 10.08-55.251 31.762-72.893 58.46z"});function y(e,t){var n=e.title,r=e.titleId,a=g(e,["title","titleId"]);return c.createElement("svg",x({viewBox:"0 0 74.512 65.588",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,S)}var P=c.forwardRef(y);n.p;function T(){var e=Object(l.a)(["\n  width: 0.7em;\n  height: 0.1em;\n  svg path {\n    fill: black;\n    height: 0.5em;\n  }\n"]);return T=function(){return e},e}var E=f.a.div(T()),A=function(){return Object(r.jsx)(E,{children:Object(r.jsx)(P,{})})};function D(){var e=Object(l.a)(["\n  position: absolute;\n  left: -0.15em;\n  bottom: 0.08em;\n  color: red;\n"]);return D=function(){return e},e}function I(){var e=Object(l.a)(["\n  position: relative;\n"]);return I=function(){return e},e}function N(){var e=Object(l.a)(["\n  position: relative;\n  bottom: 0.28em;\n  right: 0.18em;\n"]);return N=function(){return e},e}function k(){var e=Object(l.a)(["\n  position: absolute;\n"]);return k=function(){return e},e}function w(){var e=Object(l.a)(["\n  position: relative;\n"]);return w=function(){return e},e}function C(){var e=Object(l.a)(["\n  line-height: 1em;\n  margin-top: -0.33em;\n  margin-bottom: 0.93em;\n"]);return C=function(){return e},e}function L(){var e=Object(l.a)(["\n  font-size: 1.8em;\n  font-style: italic;\n  line-height: 1em;\n  margin-top: 0.6em;\n  margin-right: 0.2em;\n  width: 1em;\n"]);return L=function(){return e},e}function Y(){var e=Object(l.a)(["\n  margin-left: 1.4em;\n"]);return Y=function(){return e},e}var R=f.a.div(Y()),U=f.a.div(L()),F=Object(f.a)(U)(C()),M=f.a.div(w()),X=f.a.div(k()),q=f.a.div(N()),B=f.a.div(I()),z=f.a.div(D()),J=function e(t,n){return 1===t?Object(r.jsx)(A,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(A,{}),Object(r.jsx)(B,{children:Object(r.jsx)(z,{children:e(t-1,n)})})]})},_=function(e){var t=null;return e.nbAccents>0&&(t=J(e.nbAccents)),Object(r.jsxs)(M,{children:[Object(r.jsx)(X,{children:e.value}),Object(r.jsx)(q,{children:t})]})},G=function(e){return Object(r.jsx)(R,{children:e.isTop?Object(r.jsx)(F,{children:_(e)}):Object(r.jsx)(U,{children:_(e)})})};G.defaultProps={value:m.a.string.isRequired,nbAccents:m.a.number.isRequired,isTop:m.a.bool.isRequired},G.defaultProps={value:"a",nbAccents:0,isTop:!1};var K=G;function W(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  opacity: 0;\n  &.displayed {\n    opacity: 1;\n  }\n  transition: opacity 200ms ease-in;\n  height: 2em;\n"]);return W=function(){return e},e}function H(){var e=Object(l.a)(["\n  border-top: 1px solid black;\n  height: 1.2em;\n"]);return H=function(){return e},e}function Q(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid black;\n  border-top: none;\n"]);return Q=function(){return e},e}function V(){var e=Object(l.a)(["\n  padding-top: 6em;\n  padding-bottom: 0.4em;\n  background-color: #f2eecb;\n"]);return V=function(){return e},e}var Z=f.a.div(V()),$=f.a.div(Q()),ee=f.a.div(H()),te=f.a.div(W());var ne=function(){var e=Object(c.useContext)(p),t=e.state,n=e.note;return n?Object(r.jsxs)(Z,{children:[Object(r.jsx)($,{children:Object(O.a)(Array(5)).map((function(e,t){return Object(r.jsx)(ee,{},t)}))}),Object(r.jsx)(te,{className:[d.DISPLAY,d.SOUND].includes(t)?"displayed":"",children:Object(r.jsx)(K,{value:n.value,nbAccents:n.nbAccents,isTop:n.isTop})})]}):Object(r.jsx)(v.a,{color:"secondary"})},re=n(104),ce=Object(c.createContext)({speed:0,setSpeed:null});function ae(){var e=Object(l.a)([""]);return ae=function(){return e},e}function ie(){var e=Object(l.a)(["\n  margin-top: 6em;\n"]);return ie=function(){return e},e}var ue=f.a.h3(ie()),oe=f.a.div(ae());var le=function(){var e=Object(c.useContext)(ce),t=e.speed,n=e.setSpeed;return Object(r.jsx)(ue,{children:Object(r.jsx)(oe,{children:Object(r.jsx)(re.a,{marks:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],color:"secondary",min:0,max:5,step:.1,valueLabelDisplay:"auto",value:t,onChange:function(e,t){n(t)}})})})},se=n(103),be=n(99),je=n(100);function fe(){var e=Object(l.a)(["\n  margin-top: 2em;\n"]);return fe=function(){return e},e}var Oe=f.a.div(fe()),ve=function(){var e=Object(c.useContext)(p),t=e.isPlaying,n=e.triggerPlaying;return Object(r.jsx)(Oe,{children:Object(r.jsx)(se.a,{variant:"contained",color:"secondary",onClick:function(){return n(!t)},children:t?Object(r.jsx)(be.a,{}):Object(r.jsx)(je.a,{})})})},de=[{value:"a",nbAccents:0,isTop:!0,pitch:56},{value:"a",nbAccents:0,isTop:!1,pitch:54},{value:"a",nbAccents:1,isTop:!1,pitch:52},{value:"a",nbAccents:2,isTop:!1,pitch:51},{value:"a",nbAccents:3,isTop:!1,pitch:49},{value:"4",nbAccents:0,isTop:!1,pitch:47},{value:"5",nbAccents:0,isTop:!1,pitch:46},{value:"6",nbAccents:0,isTop:!1,pitch:44}],pe=function(e){for(var t,n=!1;!n;){var r=Math.floor(Math.random()*de.length);n=(t=de[r])!==e||Math.random()<.5}return t},he="SPEED_STORAGE_KEY",me=function(e,t){return e&&t?100-110*e/t:100},xe=n(48),ge=n.n(xe);var Se=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(p),u=i.state,l=i.note;return Object(c.useEffect)((function(){n&&n.cacheInstrument(246)}),[n]),Object(c.useEffect)((function(){u===d.SOUND&&n.playChordNow(246,[l.pitch],2)}),[u,n,l]),Object(r.jsx)(ge.a,{ref:function(e){return a(e)},appElementName:"root"})};function ye(){var e=Object(l.a)([""]);return ye=function(){return e},e}function Pe(){var e=Object(l.a)(["\n  margin: 2em 0 0em 0;\n"]);return Pe=function(){return e},e}function Te(){var e=Object(l.a)(["\n  margin: 0 auto;\n  width: 24em;\n"]);return Te=function(){return e},e}var Ee=f.a.div(Te()),Ae=f.a.div(Pe()),De=Object(s.a)({palette:{secondary:{main:"#686852"}}}),Ie=f.a.div(ye());var Ne=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(2),u=Object(o.a)(i,2),l=u[0],s=u[1],f=Object(c.useState)(!1),O=Object(o.a)(f,2),v=O[0],h=O[1],m=Object(c.useState)(d.STOPPED),x=Object(o.a)(m,2),g=x[0],S=x[1],y=Object(c.useState)(null),P=Object(o.a)(y,2),T=P[0],E=P[1],A=Object(c.useState)(null),D=Object(o.a)(A,2),I=D[0],N=D[1],k=Object(c.useState)(null),w=Object(o.a)(k,2),C=w[0],L=w[1];Object(c.useEffect)((function(){E(pe());var e=localStorage.getItem(he);e&&s(parseInt(e))}),[]);var Y=function(){return setTimeout((function(){F(d.NEXT)}),2e3)},R=function(){return setTimeout((function(){E(pe(T)),F(d.DISPLAY)}),1e3)},U=function(){L(null),N(null)},F=function(e){switch(e){case d.STOPPED:clearTimeout(n),U();break;case d.DISPLAY:N(Date.now());break;case d.SOUND:L(l),a(Y());break;case d.NEXT:a(R()),U();break;default:return}S(e)};return Object(c.useEffect)((function(){localStorage.setItem(he,l)}),[l]),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){I&&g===d.DISPLAY&&C<l?L((Date.now()-I)/1e3):C>=l&&g===d.DISPLAY&&F(d.SOUND)}),200),Object(r.jsx)(ce.Provider,{value:{speed:l,setSpeed:s},children:Object(r.jsx)(p.Provider,{value:{isPlaying:v,triggerPlaying:function(e){e&&E(pe()),h(e),F(e?d.DISPLAY:d.STOPPED)},state:g,note:T,setNote:E},children:Object(r.jsx)(Ee,{className:"App",children:Object(r.jsxs)(b.a,{theme:De,children:[Object(r.jsx)(ne,{}),Object(r.jsx)(Ae,{children:Object(r.jsx)(j.a,{variant:"determinate",value:me(C,l),color:"secondary"})}),Object(r.jsx)(ve,{}),Object(r.jsx)(le,{}),Object(r.jsx)(Se,{}),Object(r.jsx)(Ie,{children:"v1.2"})]})})})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Ne,{})}),document.getElementById("root")),ke()}},[[83,1,2]]]);
//# sourceMappingURL=main.f6922129.chunk.js.map